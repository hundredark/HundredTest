import{u as l,a as _,c as d}from"./index-b8fe59f8.js";import{g as f,u as m,l as E}from"./api-f7fa1344.js";import{_ as g}from"./_plugin-vue_export-helper-c27b6911.js";const i=e=>{e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const t=new RegExp(`[\\?&]${e}=([^&#]*)`).exec(window.location.search);return t===null?"":decodeURIComponent(t[1].replace(/\+/g," "))},h={setup(){const e=l(),r=()=>{$message.error({message:403,showClose:!0}),location.href="https://developers.mixin.one/"};if(i("error")==="access_denied")return r();const o=i("code"),{privateKey:s,publicKey:c}=f();m().oauth.getToken({}.VITE_CLIENT_ID,o,c,{}.VITE_CLIENT_SECRET).then(n=>{if(!n)return r();const{scope:a,authorization_id:u}=n;if(!a)return r();const p={user_id:{}.VITE_CLIENT_ID,scope:a,authorization_id:u,private_key:s};E.set("keystore",p),e.push("/")})}};function I(e,r,t,o,s,c){return _(),d("div")}const y=g(h,[["render",I]]);export{y as default};
